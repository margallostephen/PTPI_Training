-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Apr 23, 2025 at 05:58 AM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.0.30

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `employee_mgnt`
--

-- --------------------------------------------------------

--
-- Table structure for table `departments`
--

CREATE TABLE `departments` (
  `RID` int(11) NOT NULL,
  `DEPT_DESC` varchar(255) NOT NULL,
  `CREATED_AT` timestamp NOT NULL DEFAULT current_timestamp(),
  `UPDATED_AT` timestamp NULL DEFAULT NULL,
  `DELETED_AT` timestamp NULL DEFAULT NULL,
  `CREATED_BY` int(11) DEFAULT NULL,
  `UPDATED_BY` int(11) DEFAULT NULL,
  `DELETED_BY` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `departments`
--

INSERT INTO `departments` (`RID`, `DEPT_DESC`, `CREATED_AT`, `UPDATED_AT`, `DELETED_AT`, `CREATED_BY`, `UPDATED_BY`, `DELETED_BY`) VALUES
(1057283, 'ACCOUNTING', '2025-04-14 07:31:19', NULL, NULL, 1983746, NULL, NULL),
(1425837, 'SALES', '2025-04-14 07:29:58', NULL, NULL, 1983746, NULL, NULL),
(2546793, 'INJECTION PRODUCTION', '2025-04-14 07:29:58', NULL, NULL, 1983746, NULL, NULL),
(3167805, 'SUPPLY CHAIN MANAGEMENT', '2025-04-14 07:29:58', NULL, NULL, 1983746, NULL, NULL),
(4213059, 'HUMAN RESOURCES', '2025-04-14 07:31:19', NULL, NULL, 1983746, NULL, NULL),
(4829513, 'QUALITY MANAGEMENT', '2025-04-14 07:29:58', NULL, NULL, 1983746, NULL, NULL),
(5394678, 'ENVIRONMENTAL, HEALTH AND SAFETY', '2025-04-14 07:29:58', NULL, NULL, 1983746, NULL, NULL),
(6904721, 'MATERIAL MANAGEMENT', '2025-04-14 07:29:58', NULL, NULL, 1983746, NULL, NULL),
(7013486, 'ENGINEERING', '2025-04-14 07:29:58', NULL, NULL, 1983746, NULL, NULL),
(7836210, 'FACILITIES', '2025-04-14 07:29:58', NULL, NULL, 1983746, NULL, NULL),
(8591624, 'INJECTION PLANNING', '2025-04-14 07:29:58', NULL, NULL, 1983746, NULL, NULL),
(8673942, 'GENERAL AFFAIRS', '2025-04-14 07:31:19', NULL, NULL, 1983746, NULL, NULL),
(9356721, 'MANAGEMENT INFORMATION SYSTEM', '2025-04-14 07:29:58', NULL, NULL, 1983746, NULL, NULL);

-- --------------------------------------------------------

--
-- Table structure for table `employees`
--

CREATE TABLE `employees` (
  `RID` int(11) NOT NULL,
  `LASTNAME` varchar(255) NOT NULL,
  `FIRSTNAME` varchar(255) NOT NULL,
  `MIDDLENAME` varchar(255) DEFAULT NULL,
  `DEPARTMENT` int(11) NOT NULL,
  `CREATED_AT` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `UPDATED_AT` timestamp NULL DEFAULT NULL,
  `DELETED_AT` timestamp NULL DEFAULT NULL,
  `CREATED_BY` int(11) DEFAULT NULL,
  `UPDATED_BY` int(11) DEFAULT NULL,
  `DELETED_BY` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `employees`
--

INSERT INTO `employees` (`RID`, `LASTNAME`, `FIRSTNAME`, `MIDDLENAME`, `DEPARTMENT`, `CREATED_AT`, `UPDATED_AT`, `DELETED_AT`, `CREATED_BY`, `UPDATED_BY`, `DELETED_BY`) VALUES
(1849302, 'VILOG', 'JOSHUA', NULL, 9356721, '2025-04-14 07:50:00', NULL, NULL, 1983746, NULL, NULL),
(3126590, 'TENORIO', 'NILO JAY', NULL, 9356721, '2025-04-14 07:50:03', NULL, NULL, 1983746, NULL, NULL),
(5267814, 'ALMAZAN', 'BIMBY', NULL, 9356721, '2025-04-16 10:56:51', '2025-04-16 10:56:51', NULL, 1983746, 1983746, NULL),
(5715289, 'FORNOLES', 'NOAH', '', 9356721, '2025-04-16 10:56:17', NULL, NULL, 1983746, NULL, NULL),
(7392651, 'MARGALLO', 'STEPHEN PAUL', 'JUGUIO', 9356721, '2025-04-14 07:50:07', NULL, NULL, 1983746, NULL, NULL),
(9603478, 'SILVA', 'KIM', NULL, 9356721, '2025-04-16 06:26:23', '2025-04-16 06:26:23', NULL, 1983746, 1983746, NULL);

-- --------------------------------------------------------

--
-- Table structure for table `roles`
--

CREATE TABLE `roles` (
  `RID` int(11) NOT NULL,
  `ROLE_NAME` varchar(255) NOT NULL,
  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),
  `UPDATED_AT` datetime DEFAULT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  `CREATED_BY` int(11) DEFAULT NULL,
  `UPDATED_BY` int(11) DEFAULT NULL,
  `DELETED_BY` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `roles`
--

INSERT INTO `roles` (`RID`, `ROLE_NAME`, `CREATED_AT`, `UPDATED_AT`, `DELETED_AT`, `CREATED_BY`, `UPDATED_BY`, `DELETED_BY`) VALUES
(1049273, 'SUPER ADMIN', '2025-04-14 16:36:52', NULL, NULL, 1983746, NULL, NULL),
(3849271, 'STAFF', '2025-04-14 16:34:34', '2025-04-14 16:36:39', NULL, 1983746, 1983746, NULL),
(5293847, 'MANAGER', '2025-04-14 16:34:20', NULL, NULL, 1983746, NULL, NULL),
(6420938, 'ADMIN', '2025-04-14 15:44:19', NULL, NULL, 1983746, NULL, NULL);

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `RID` int(11) NOT NULL,
  `USERNAME` varchar(255) NOT NULL,
  `EMAIL` varchar(255) NOT NULL,
  `PASSWORD` varchar(255) NOT NULL,
  `IS_DISABLED` tinyint(1) NOT NULL DEFAULT 0,
  `USER_ROLE` int(11) NOT NULL,
  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),
  `UPDATED_AT` datetime DEFAULT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  `CREATED_BY` int(11) DEFAULT NULL,
  `UPDATED_BY` int(11) DEFAULT NULL,
  `DELETED_BY` int(11) DEFAULT NULL,
  `EMPLOYEE_ID` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`RID`, `USERNAME`, `EMAIL`, `PASSWORD`, `IS_DISABLED`, `USER_ROLE`, `CREATED_AT`, `UPDATED_AT`, `DELETED_AT`, `CREATED_BY`, `UPDATED_BY`, `DELETED_BY`, `EMPLOYEE_ID`) VALUES
(1983746, 'AdminPTPI01', 'admin01@ptpi.com', '$2a$10$bom.fdldr5dxG.UD8bmABuh3beohi0Fwmj8Umxx8ku1KA4JKBHL/i', 0, 1049273, '2025-04-14 15:48:29', '2025-04-15 09:36:16', NULL, 1983746, 9973308, NULL, 7392651),
(6939484, 'Nil01', 'nil01@gmail.com', '$2y$10$V3P2c5A9mQiNJd/pS3l50.4g3rnpjikFrhmsYHPK9sE3620DbJSKC', 0, 1049273, '2025-04-15 11:41:05', '2025-04-16 14:23:40', NULL, 9627816, 1983746, NULL, 3126590),
(7281690, 'Bimby', 'bimby@gmail.com', '$2y$10$9ZiTJwmaGjODQds.uxjmjOqMwJhTo/RA7qgNh1ryGErJpCneJk17u', 0, 6420938, '2025-04-15 08:19:44', '2025-04-15 17:09:21', NULL, 9973308, 9627816, NULL, 5267814),
(9627816, 'josh0123', 'josh01@gmail.com', '$2y$10$UfAUVdC0KFvEhVDpCpMlgehywF/XHj1Le912jvuclHQZ9DPs8r3b6', 0, 6420938, '2025-04-15 08:20:43', '2025-04-15 17:09:19', NULL, 9973308, 9627816, NULL, 1849302),
(9973308, 'Kim01', 'kim01@gmail.com', '$2y$10$U.9l17Bv8dfHJcvARY0ydeTwuXiVTLqViso4fbwfDAZuVH4tTrIia', 0, 6420938, '2025-04-14 17:23:06', '2025-04-15 11:38:05', NULL, 1983746, 9627816, NULL, 9603478);

--
-- Indexes for dumped tables
--

--
-- Indexes for table `departments`
--
ALTER TABLE `departments`
  ADD PRIMARY KEY (`RID`),
  ADD KEY `CREATED_BY` (`CREATED_BY`,`UPDATED_BY`,`DELETED_BY`),
  ADD KEY `UPDATED_BY` (`UPDATED_BY`),
  ADD KEY `DELETED_BY` (`DELETED_BY`);

--
-- Indexes for table `employees`
--
ALTER TABLE `employees`
  ADD PRIMARY KEY (`RID`),
  ADD KEY `DEPARTMENT` (`DEPARTMENT`),
  ADD KEY `DEPARTMENT_2` (`DEPARTMENT`),
  ADD KEY `CREATED_BY` (`CREATED_BY`,`UPDATED_BY`,`DELETED_BY`),
  ADD KEY `UPDATED_BY` (`UPDATED_BY`),
  ADD KEY `DELETED_BY` (`DELETED_BY`);

--
-- Indexes for table `roles`
--
ALTER TABLE `roles`
  ADD PRIMARY KEY (`RID`),
  ADD KEY `CREATED_BY` (`CREATED_BY`,`UPDATED_BY`,`DELETED_BY`),
  ADD KEY `UPDATED_BY` (`UPDATED_BY`),
  ADD KEY `DELETED_BY` (`DELETED_BY`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`RID`),
  ADD KEY `USER_ROLE` (`USER_ROLE`),
  ADD KEY `USER_ROLE_2` (`USER_ROLE`),
  ADD KEY `CREATED_BY` (`CREATED_BY`,`UPDATED_BY`,`DELETED_BY`),
  ADD KEY `RECORD_ID` (`EMPLOYEE_ID`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `employees`
--
ALTER TABLE `employees`
  MODIFY `RID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9603479;

--
-- AUTO_INCREMENT for table `roles`
--
ALTER TABLE `roles`
  MODIFY `RID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9223372036854775807;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `RID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9973309;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `departments`
--
ALTER TABLE `departments`
  ADD CONSTRAINT `departments_ibfk_1` FOREIGN KEY (`CREATED_BY`) REFERENCES `users` (`RID`) ON UPDATE CASCADE,
  ADD CONSTRAINT `departments_ibfk_2` FOREIGN KEY (`UPDATED_BY`) REFERENCES `users` (`RID`) ON UPDATE CASCADE,
  ADD CONSTRAINT `departments_ibfk_3` FOREIGN KEY (`DELETED_BY`) REFERENCES `users` (`RID`) ON UPDATE CASCADE;

--
-- Constraints for table `employees`
--
ALTER TABLE `employees`
  ADD CONSTRAINT `employees_ibfk_1` FOREIGN KEY (`DEPARTMENT`) REFERENCES `departments` (`RID`) ON DELETE NO ACTION,
  ADD CONSTRAINT `employees_ibfk_2` FOREIGN KEY (`CREATED_BY`) REFERENCES `users` (`RID`) ON UPDATE CASCADE,
  ADD CONSTRAINT `employees_ibfk_3` FOREIGN KEY (`UPDATED_BY`) REFERENCES `users` (`RID`) ON UPDATE CASCADE,
  ADD CONSTRAINT `employees_ibfk_4` FOREIGN KEY (`DELETED_BY`) REFERENCES `users` (`RID`) ON UPDATE CASCADE;

--
-- Constraints for table `roles`
--
ALTER TABLE `roles`
  ADD CONSTRAINT `roles_ibfk_1` FOREIGN KEY (`CREATED_BY`) REFERENCES `users` (`RID`) ON UPDATE CASCADE,
  ADD CONSTRAINT `roles_ibfk_2` FOREIGN KEY (`UPDATED_BY`) REFERENCES `users` (`RID`) ON UPDATE CASCADE,
  ADD CONSTRAINT `roles_ibfk_3` FOREIGN KEY (`DELETED_BY`) REFERENCES `users` (`RID`) ON UPDATE CASCADE;

--
-- Constraints for table `users`
--
ALTER TABLE `users`
  ADD CONSTRAINT `users_ibfk_1` FOREIGN KEY (`USER_ROLE`) REFERENCES `roles` (`RID`) ON DELETE NO ACTION ON UPDATE CASCADE,
  ADD CONSTRAINT `users_ibfk_2` FOREIGN KEY (`EMPLOYEE_ID`) REFERENCES `employees` (`RID`) ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
